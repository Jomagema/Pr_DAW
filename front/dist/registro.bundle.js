(()=>{var e=[];e=void fetch("http://127.0.0.1:8000/api/imagenes").then((e=>{if(!e.ok)throw new Error("Hubo un problema al obtener las imágenes.");return e.json()})).then((t=>{e.length=0;for(let n=0;n<t.length;n++)e.push(t[n].imagen);console.log("Imágenes cargadas:",e)})).catch((e=>{console.error("Error al obtener las imágenes:",e)}));const t=document.getElementById("contrasena"),n=document.getElementById("confcontrasena");t.addEventListener("change",(()=>{t.value!==n.value?n.setCustomValidity("Las contraseñas no coinciden"):n.setCustomValidity("")})),n.addEventListener("change",(()=>{t.value!==n.value?n.setCustomValidity("Las contraseñas no coinciden"):n.setCustomValidity("")})),e=[],document.getElementById("formRegister").addEventListener("submit",(function(t){t.preventDefault();var n=new FormData(this);n.append("imagen",e[0]),fetch("http://127.0.0.1:8000/api/registrar",{method:"POST",body:n}).then((e=>{if(!e.ok)throw new Error("Error en la petición");return e.json()})).then((e=>{localStorage.setItem("usuario",n.get("usuario")),localStorage.setItem("imagen",n.get("imagen")),localStorage.setItem("record",0),window.location.href="../../index.html"})).catch((e=>{console.error("Error:",e)}))}))})();